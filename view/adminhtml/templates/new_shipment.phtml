<?php /** @var MyParcelNL\Magento\Block\Sales\NewShipment $block */ ?>
<?php /** @var MyParcelNL\Magento\Block\Sales\NewShipment $jsonDeliveryOptions */ ?>
<input name="mypa_extra_options_checkboxes_in_form"
       value="1"
       type="hidden"
/>
<!-- MyParcel options -->
<div
    class="field choice admin__field admin__field-option field-mypa_create_from_observer mypa_create_from_observer-toggle">
  <input id="mypa_create_from_observer"
         class="admin__control-checkbox"
         name="mypa_create_from_observer"
         value="1"
         type="checkbox"
         checked="checked"
  />
  <label class="admin__field-label"
         for="mypa_create_from_observer">
    <span><?=__('Create MyParcel consignment')?></span></label>
</div>


<?php

(new newShipment());

class newShipment
{
    public function __construct()
    {
        $carriers = [
            'PostNL' => [
                'Package' => [
                    'signature'      => 'Signature on receipt',
                    'only_recipient' => 'Home address only',
                    'return'         => 'Return if no answer',
                    'large_format'   => 'Large Format',
                    'age_check'      => 'Age check 18+'
                ],
                'Digital Stamp' => [
                    'adsa' => 'sadsasa',
                ],
                'Mailbox' => [
                    'asddsa' => 'sdassd',
                ],
                'Letter' => [
                    'sdasa' => 'saasdsat',
                ],
            ],
            'DPD'    => ['Package' => 'sadsaads']
        ];

        $this->carriers($carriers);
    }

    public function carriers($carriers)
    {
        foreach ($carriers as $carrier => $packageTypes) {
            $carrierLowerCase = strtolower($carrier);

            echo "
                <div class='field field-mypa_carrier_" . $carrierLowerCase . "mypa_carrier-toggle' style='margin-top: 10px;'>
                    <div class='admin__field-control'>
                        <div class='admin__field admin__field-option'>
                            <input type='radio' class='admin__control-radio' id='mypa_carrier_" . $carrierLowerCase . "' name='mypa_carrier' value=" . $carrierLowerCase . ">
                            <label class='admin__field-label' for='mypa_carrier'>$carrier</label>
                        </div>
                    </div>
                </div>
            ";

            $this->packageTypes($packageTypes);
        }
    }

    public function packageTypes($packageTypes)
    {
        foreach ($packageTypes as $packageType => $deliveryOption) {
            $packageTypeLowerCase = str_replace(" ", "_", strtolower($packageType));
            echo "
            <div class='field field-mypa_" . $packageTypeLowerCase . "_type mypa_package-toggle' style='display:none; padding-left: 30px; margin-top: 10px;'>
                <div class='admin__field-control'>
                    <div class='admin__field admin__field-option'>
                        <input type='radio' class='admin__control-radio' id='mypa_package_type-" . $packageTypeLowerCase . "' name='mypa_package_type' value=" . $packageTypeLowerCase . ">
                        <label class='admin__field-label' for='mypa_package_type'>" . $packageType . "</label>
                    </div>
                </div>
            </div>
            ";
            $this->deliveryOptions($deliveryOption);
        }
    }

    public function deliveryOptions($deliveryOptions)
    {
        foreach ((array) $deliveryOptions as $deliveryOption => $optionsName) {
            echo "
            <div class='field choice admin__field admin__field-option field-mypa_" . $deliveryOption . " mypa-option-toggle' style='display:none; padding-left: 60px;'>
                <input id='mypa_" . $deliveryOption . "' class='admin__control-checkbox' name='mypa_" . $deliveryOption . "' value='1' type='checkbox'/>
                <label class='admin__field-label' for='mypa_" . $deliveryOption . "'>
                    <span>" . $optionsName . "</span>
                </label>
            </div>
        ";
        }
    }
}
?>


<script type="text/x-magento-init">
  {
     ".page-footer": {
         "myparcelnl_newshipment": {}
      }
  }
</script>


<br><br><br><br><br><br><br><br><br><br><br><br>

<!--    <div class="field field-mypa_package_type mypa-option-toggle" style="display:none; padding-left: 30px; margin-top: 10px;">-->
<!--        <div class="admin__field-control">-->
<!--            <div class="admin__field admin__field-option">-->
<!--                <input type="radio" class="admin__control-radio" id="mypa_package_type-package" name="mypa_package_type" value="package" --><?php //=$block->getPackageType() !== 1 ?: 'checked="checked"';?><!-->-->
<!--                <label class="admin__field-label" for="mypa_package_type-package">--><?php //=__('Package');?><!--</label>-->
<!--            </div>-->
<!---->
<!---->
<!--	        --><?php //if ($block->getCountry() == 'NL'):?>
<!--              <div class="field choice admin__field admin__field-option field-mypa_signature mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <input id="mypa_signature"-->
<!--                       class="admin__control-checkbox"-->
<!--                       name="mypa_signature"-->
<!--                       value="1"-->
<!--                       type="checkbox"-->
<!--			        --><?php //= $block->getDefaultOption('signature') == true ? 'checked="checked"' : '';?>
<!--                />-->
<!--                <label class="admin__field-label" for="mypa_signature">-->
<!--                  <span>--><?php //=__('Signature on receipt')?><!--</span>-->
<!--                </label>-->
<!--              </div>-->
<!--              <div class="field choice admin__field admin__field-option field-mypa_only_recipient mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <input id="mypa_only_recipient"-->
<!--                       class="admin__control-checkbox"-->
<!--                       name="mypa_only_recipient"-->
<!--                       value="1"-->
<!--                       type="checkbox"-->
<!--			        --><?php //= $block->getDefaultOption('only_recipient') == true ? 'checked="checked"' : '';?>
<!--                />-->
<!--                <label class="admin__field-label" for="mypa_only_recipient">-->
<!--                  <span>--><?php //=__('Home address only')?><!--</span>-->
<!--                </label>-->
<!--              </div>-->
<!--              <div class="field choice admin__field admin__field-option field-mypa_return mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <input id="mypa_return"-->
<!--                       class="admin__control-checkbox"-->
<!--                       name="mypa_return"-->
<!--                       value="1"-->
<!--                       type="checkbox"-->
<!--			        --><?php //= $block->getDefaultOption('return') == true ? 'checked="checked"' : '';?>
<!--                />-->
<!--                <label class="admin__field-label" for="mypa_return">-->
<!--                  <span>--><?php //=__('Return if no answe')?><!--</span>-->
<!--                </label>-->
<!--              </div>-->
<!---->
<!---->
<!--              <div class="field choice admin__field admin__field-option field-mypa_large_format mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <input id="mypa_large_format"-->
<!--                       class="admin__control-checkbox"-->
<!--                       name="mypa_large_format"-->
<!--                       value="1"-->
<!--                       type="checkbox"-->
<!--			        --><?php //= $block->getDefaultLargeFormat('large_format') == true ? 'checked="checked"' : '';?>
<!--                />-->
<!--                <label class="admin__field-label" for="mypa_return">-->
<!--                  <span>--><?php //=__('Large package')?><!--</span>-->
<!--                </label>-->
<!--              </div>-->
<!---->
<!--              <div class="field choice admin__field admin__field-option field-mypa_age_check mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <input id="mypa_age_check"-->
<!--                       class="admin__control-checkbox"-->
<!--                       name="mypa_age_check"-->
<!--                       value="1"-->
<!--                       type="checkbox"-->
<!--			        --><?php //=$block->getDefaultOptionsWithoutPrice('age_check') == true ? 'checked="checked"' : '';?>
<!--                />-->
<!--                <label class="admin__field-label" for="mypa_age_check">-->
<!--                  <span>--><?php //=__('Age check 18+')?><!--</span>-->
<!--                </label>-->
<!--              </div>-->
<!---->
<!--              <div class="field choice admin__field admin__field-option field-mypa_label_amount mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <label class="admin__field-label" for="mypa_label_amount" style="display: block">-->
<!--                  <span>--><?php //=__('Label amount:')?><!--</span>-->
<!--                </label>-->
<!--		          --><?php //$label_amount = 1;?>
<!--                <select name="mypa_label_amount" id="mypa_label_amount"-->
<!--                        class="required product-custom-option admin__control-select" title="">-->
<!--			        --><?php
//                    while ($label_amount <= 10) {
//                        echo '<option value="' . $label_amount . '" >' . __($label_amount) . '</option>';
//                        $label_amount ++;
//                    }
//?>
<!--                </select>-->
<!--              </div>-->
<!---->
<!--              <div class="field choice admin__field admin__field-option field-mypa_insurance mypa_package-toggle mypa-option-toggle" style="display:none; padding-left: 30px;">-->
<!--                <label class="admin__field-label" for="mypa_insurance" style="display: block">-->
<!--                  <span>--><?php //=__('Insured up to:')?><!--</span>-->
<!--                </label>-->
<!--		          --><?php //$defaultInsurance = $block->getDefaultInsurance();?>
<!--                <select name="mypa_insurance" id="mypa_insurance" class="required product-custom-option admin__control-select" title="" >-->
<!--                  <option value="0" >--><?php //=__('No insurance')?><!--</option>-->
<!--                  <option value="100" --><?php //= $defaultInsurance == 100 ? 'selected="selected"' : '';?><!-- >€ 100</option>-->
<!--                  <option value="250" --><?php //= $defaultInsurance == 250 ? 'selected="selected"' : '';?><!-- >€ 250</option>-->
<!--                  <option value="500" --><?php //= $defaultInsurance == 500 ? 'selected="selected"' : '';?><!-- >€ 500</option>-->
<!--                  <option value="1000">€ 1000</option>-->
<!--                  <option value="1500">€ 1500</option>-->
<!--                  <option value="2000">€ 2000</option>-->
<!--                  <option value="2500">€ 2500</option>-->
<!--                  <option value="3000">€ 3000</option>-->
<!--                  <option value="3500">€ 3500</option>-->
<!--                  <option value="4000">€ 4000</option>-->
<!--                  <option value="4500">€ 4500</option>-->
<!--                  <option value="5000">€ 5000</option>-->
<!--                </select>-->
<!--              </div>-->
<!--              <script type="text/x-magento-init">-->
<!--       {-->
<!--           ".page-footer": {-->
<!--               "myparcelnl_newshipment": {}-->
<!--            }-->
<!--       }-->
<!--    </script>-->
<!--	        --><?php //endif;?>
<!---->
<!--            --><?php //if ($block->getCountry() == 'NL'):?>
<!--                <div class="admin__field admin__field-option">-->
<!--                    <input type="radio" class="admin__control-radio" id="mypa_package_type-digital_stamp" name="mypa_package_type" value="digital_stamp" --><?php //=$block->getPackageType() !== 4 ?: 'checked="checked"';?><!-->-->
<!--                    <label class="admin__field-label" for="mypa_package_type-digital_stamp">--><?php //=__('Digital stamp');?><!--</label>-->
<!--                    --><?php //$weight = $block->getDigitalStampWeight();?>
<!--                    <select name="mypa_digital_stamp_weight" id="mypa_digital_stamp_weight" class="required product-custom-option admin__control-select" title="" >-->
<!--                        <option value="0" --><?php //= $weight == 0 ? 'selected="selected"' : '';?><!-- >No standard weight</option>-->
<!--                        <option value="20" --><?php //= $weight == 20 ? 'selected="selected"' : '';?><!-- >0 - 20 gram</option>-->
<!--                        <option value="50" --><?php //= $weight == 50 ? 'selected="selected"' : '';?><!-- >20 - 50 gram</option>-->
<!--                        <option value="100" --><?php //= $weight == 100 ? 'selected="selected"' : '';?><!-- >50 - 100 gram</option>-->
<!--                        <option value="350" --><?php //= $weight == 350 ? 'selected="selected"' : '';?><!-- >100 - 350 gram</option>-->
<!--                        <option value="2000" --><?php //= $weight == 2000 ? 'selected="selected"' : '';?><!-- >350 - 2000 gram</option>-->
<!--                    </select>-->
<!--                </div>-->
<!--                <div class="admin__field admin__field-option">-->
<!--                    <input type="radio" class="admin__control-radio" id="mypa_package_type-mailbox" name="mypa_package_type" value="mailbox" --><?php //=$block->getPackageType() !== 2 ?: 'checked="checked"';?><!-->-->
<!--                    <label class="admin__field-label" for="mypa_package_type-mailbox">--><?php //=__('Mailbox');?><!--</label>-->
<!--                </div>-->
<!--            --><?php //endif;?>
<!--            <div class="admin__field admin__field-option">-->
<!--                <input type="radio" class="admin__control-radio" id="mypa_package_type-letter" name="mypa_package_type" value="letter" --><?php //=$block->getPackageType() !== 3 ?: 'checked="checked"';?><!-->-->
<!--                <label class="admin__field-label" for="mypa_package_type-letter">--><?php //=__('Letter');?><!--</label>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
